<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp"
    android:background="?android:attr/colorBackground">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <!-- Title -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Loading Strategy Tester"
            android:textSize="24sp"
            android:textStyle="bold"
            android:textColor="?android:attr/textColorPrimary"
            android:gravity="center"
            android:padding="16dp" />

        <!-- Strategy Selection -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Select Strategy"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="?android:attr/textColorPrimary"
                    android:layout_marginBottom="8dp" />

                <RadioGroup
                    android:id="@+id/strategyRadioGroup"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content">

                    <RadioButton
                        android:id="@+id/radioHybrid"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="HYBRID (Recommended) â­"
                        android:checked="true" />

                    <RadioButton
                        android:id="@+id/radioOnDemand"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ON_DEMAND (Max Coverage)" />

                    <RadioButton
                        android:id="@+id/radioOnlyCache"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ONLY_CACHE (Best UX)" />

                    <RadioButton
                        android:id="@+id/radioFreshWithFallback"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="FRESH_WITH_CACHE_FALLBACK (Fresh First)" />

                </RadioGroup>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Status Display -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#E3F2FD">

            <TextView
                android:id="@+id/statusTextView"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:padding="16dp"
                android:text="Select a strategy to see details"
                android:textSize="14sp"
                android:textColor="#0D47A1"
                android:fontFamily="monospace" />

        </com.google.android.material.card.MaterialCardView>

        <!-- Cache Status Display -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#E8F5E9">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“¦ Cache Status"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="#1B5E20"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:id="@+id/cacheStatusTextView"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Loading cache status..."
                    android:textSize="13sp"
                    android:textColor="#2E7D32"
                    android:fontFamily="monospace" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Smart Preload Control -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#FFF3E0">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="âš¡ Smart Preload"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#E65100" />

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchSmartPreload"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Auto"
                        android:textColor="#E65100" />

                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="ðŸ”„ Cross Ad Unit Fallback"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#E65100" />

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchCrossAdUnitFallback"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:textColor="#E65100" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Ad Pool Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#E1F5FE">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="ðŸŠ Ad Pool (Multiple Ad Units)"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="#01579B"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:id="@+id/adPoolStatusTextView"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Pool Size: 0"
                    android:textSize="13sp"
                    android:textColor="#0277BD"
                    android:fontFamily="monospace"
                    android:layout_marginBottom="8dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <Button
                        android:id="@+id/btnLoadAdPool"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Load 3 Units"
                        android:textSize="12sp"
                        android:layout_marginEnd="4dp"
                        style="@style/Widget.Material3.Button.TonalButton" />

                    <Button
                        android:id="@+id/btnShowFromPool"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Show Any"
                        android:textSize="12sp"
                        android:layout_marginStart="4dp"
                        style="@style/Widget.Material3.Button.TonalButton" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Ad Stats Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#FCE4EC">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“Š Ad Statistics (Firebase)"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="#880E4F"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:id="@+id/adStatsTextView"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Requests: 0 | Fills: 0 | Shown: 0\nFill Rate: 0% | Show Rate: 0%"
                    android:textSize="13sp"
                    android:textColor="#AD1457"
                    android:fontFamily="monospace" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Test Buttons -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Test Ad Types"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="?android:attr/textColorPrimary"
                    android:layout_marginBottom="12dp" />

                <Button
                    android:id="@+id/btnTestInterstitial"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸŽ¯ Test Interstitial"
                    android:layout_marginBottom="8dp" />

                <Button
                    android:id="@+id/btnTestNativeLarge"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“± Test Native Large"
                    android:layout_marginBottom="8dp" />

                <Button
                    android:id="@+id/btnTestNativeMedium"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“± Test Native Medium"
                    android:layout_marginBottom="8dp" />

                <Button
                    android:id="@+id/btnTestNativeSmall"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“± Test Native Small"
                    android:layout_marginBottom="8dp" />

                <Button
                    android:id="@+id/btnTestBannerTop"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“Œ Test Collapsible (TOP)"
                    android:layout_marginBottom="8dp" />

                <Button
                    android:id="@+id/btnTestBannerBottom"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“Œ Test Collapsible (BOTTOM)" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Cache Management -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Cache Management"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="?android:attr/textColorPrimary"
                    android:layout_marginBottom="12dp" />

                <Button
                    android:id="@+id/btnPreloadCache"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“¦ Preload Ads to Cache"
                    android:layout_marginBottom="8dp" />

                <Button
                    android:id="@+id/btnClearCache"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸ§¹ Clear Cache"
                    style="@style/Widget.Material3.Button.OutlinedButton" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Native Ad Test Area -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Native Ad Preview"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="?android:attr/textColorPrimary"
                    android:layout_marginBottom="8dp" />

                <com.i2hammad.admanagekit.admob.NativeLarge
                    android:id="@+id/nativeLargeTest"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp" />

                <com.i2hammad.admanagekit.admob.NativeBannerMedium
                    android:id="@+id/nativeMediumTest"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp" />

                <com.i2hammad.admanagekit.admob.NativeBannerSmall
                    android:id="@+id/nativeSmallTest"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Banner Ad Test Area -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Banner Ad Preview"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="?android:attr/textColorPrimary"
                    android:layout_marginBottom="8dp" />

                <com.i2hammad.admanagekit.admob.BannerAdView
                    android:id="@+id/bannerViewTest"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Instructions -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:cardCornerRadius="8dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#FFF3E0">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="ðŸ“ Test Instructions"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:textColor="#E65100"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:textColor="#E65100"
                    android:textSize="12sp"
                    android:text="1. Select a strategy using radio buttons\n\n2. ONLY_CACHE: Click 'Preload Cache', wait 5 sec, then test\n   â†’ Shows instantly if cached, skips if not\n\n3. ON_DEMAND: Always shows loading dialog\n   â†’ Fetches fresh ad every time\n\n4. HYBRID (â­ Recommended): Best of both\n   â†’ Instant if cached, dialog if not\n\n5. Check logcat (tag: LoadingStrategyTest) for details" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

    </LinearLayout>

</ScrollView>
